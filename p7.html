<html>
<script src='https://d3js.org/d3.v5.min.js'></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3-annotation/2.5.1/d3-annotation.min.js" integrity="sha512-iBAeBWWWFb8HqSBcrqcz98iIpuVH1la39dEYHtyQ/pGpeCQTQVvLJOWAuhv2Q7JSHp9k7hWA7sGxU3hHJe+tFg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<head>
  <title> Men and Women Obtaining Ph.D.s in 2018</title>
  <style>
    p   {
      color: rgb(99, 11, 224);
      font-size: 18pt;
      border: 2px solid black;
      padding: 10px;
    }
    h1  {
      color: black; 
      font-size: 18pt;
      }
    footer {
      color: black;
      font-size: 12pt;
    }
  </style>
  <style>
    .pagination {
      display: inline-block;
    }
    
    .pagination a {
      color: black;
      float: left;
      padding: 8px 16px;
      text-decoration: none;
    }
    
    .pagination a.active {
      background-color: rgb(99, 11, 224);
      color: white;
    }
    
    .pagination a:hover:not(.active) {background-color: #ddd;}
    </style>
  <style>
  .button {
    border: none;
    background-color: white;
    color: black;
    border: 2px solid grey;
    padding: 16px 32px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    margin: 4px 2px;
    transition-duration: 0.4s;
    cursor: pointer;
  }
  .button:hover {
  background-color: grey;
  color: white;
}
  </style>
</head>
<body onload='init()'>
<h1> <center>Men and Women Obtaining Ph.D.s in 2018  </center></h1>
  <p> Men and women earned nearly the same number of Ph.Ds in 2018, but disaggregation reveals that women are under-represented in many scientific fields
   <br> <span style="color:grey;"> <span style = "font-size: 14pt"> Don't forget to hover over the bars for more information.</span></span></p>
  <div class="pagination">
      <a href="https://eveomett.github.io/p5.html">&laquo;</a>
      <a href="https://eveomett.github.io/">1</a>
      <a href="https://eveomett.github.io/p2.html">2</a>
      <a href="https://eveomett.github.io/p3.html">3</a>
      <a href="https://eveomett.github.io/p4.html">4</a>
      <a href="https://eveomett.github.io/p5.html">5</a>
      <a href="https://eveomett.github.io/p6.html">6</a>
      <a class = "active" href="https://eveomett.github.io/p7.html">7</a>
      <a href="https://eveomett.github.io/p7.html">&raquo;</a>
  </div> 
<br>
<svg x = "5%" y = "0%" width="95%" height="78%" viewbox ="0 0 1800 1000">
</svg>
<footer>
  Data from <a href="https://ncses.nsf.gov/pubs/nsf21321/data-tables">NSF</a>, table 7-1.
</footer>
</body>
<script>
const annotations = [
  {
    note: {
      label: "Disaggregating Earth, Atmospheric, and Ocean Sciences, we see there are more women in Ocean Sciences than men",
      title: "More Women in Ocean Sciences"
    },
    x: 110,
    y: 980,
    dy: -650,
    dx: 200,
    color: "#3E0DD7"
  },
  {
    note: {
      label: "Men dominate Economics, whereas women dominate the other social sciences.",
      title: "Economics vs other Social Sciences"
    },
    x: 690,
    y: 910,
    dy: -330,
    dx: -120,
    color: "#3E0DD7"
  },
  {
    note: {
      label: "There are more than 4 times as many men as women in Physics.",
      title: "Physics most imbalanced physical science field"
    },
    x: 920,
    y: 800,
    dy: -400,
    dx: -100,
    color: "#3E0DD7"
  },
  {
    note: {
      label: "There are more than 7 times as many men as women in Aerospace Engineering.",
      title: "Aerospace most imbalanced engineering field"
    },
    x: 1250,
    y: 950,
    dy: -400,
    dx: 200,
    color: "#3E0DD7"
  },
  {
    note: {
      label: "Biology is a hard science with more women than men.",
      title: "Biology"
    },
    x: 1080,
    y: 460,
    dy: -200,
    dx: 100,
    color: "#3E0DD7"
  }
]
const makeAnnotations = d3.annotation()
  .annotations(annotations)
var disagEngineering = 1
var disagSocSci = 1
var disagPhysSci = 1
var disagEAO = 1
const WomenEAO = [62, 66, 283];
const cum_WomenEAO = [62, 128, 411];
const MenEAO = [49, 108, 365];
const cum_MenEAO = [49, 157, 522]
const EAO_text = ["Ocean Sciences", "Atmospheric Sciences", "Earth Sciences"]
const WomenAgComp = [639, 3117, 563, 426]
const MenAgComp = [706, 1208, 1450, 1548]
const AgComp_text = ["Agricultural Sciences", "Psychology", "Mathematics and Statistics", "Computer Sciences"]
const WomenSocSci = [417, 2214]
const cum_WomenSocSci = [427, 2641]
const MenSocSci = [899, 1676]
const cum_MenSocSci = [899, 2575]
const SocSci_text = ["Economics", "Other (Sociology, Anthropology, etc)"]
const WomenPhysSci = [96, 402, 1193]
const cum_WomenPhysSci = [96, 498, 1691]
const MenPhysSci = [170, 1477, 1866]
const cum_MenPhysSci = [170, 1647, 3513]
const PhysSci_text = ["Astronomy and Other", "Physics", "Chemistry"]
const WomenBio = [4308]
const MenBio = [3788]
const WomenEngineering = [103, 42, 251, 396, 348, 255, 802, 489]
const cum_WomenEngineering = [103, 145, 396, 792, 1140, 1395, 2197, 2686]
const MenEngineering = [294, 305, 640, 836, 863, 1410, 1686, 2231]
const cum_MenEngineering = [ 294, 599, 1239, 2075, 2938, 4348, 6034, 8265]
const Engineering_text = ["Industrial Engineering", "Aerospace Engineering", "Materials Engineering", "Civil Engineering", "Chemical Engineering", "Mechanical Engineering", "Other Engineering", "Electrical Engineering"]
const n = 21
const ylength = 1000
const xlength = 1800-50
const w = (0.45)*xlength/n
const marg = (0.1)*xlength/n
var x = d3.scaleLinear().domain([0,n]).range([0,xlength]);
var y = d3.scaleLinear().domain([0,8265]).range([ylength,0]);
function init() {
  d3.select("svg")
  .append("g")
  .attr("transform", "translate(50, 0)")
  .selectAll().data(MenEAO).enter().append('rect')
  .classed("MenEAO", true)
  .style("stroke", "lightblue")
  .style("fill", "lightblue")
  .attr("x", 0)
  .attr("y",function(d,i){ return y(cum_MenEAO[i]) })
  .attr("width",w)
  .attr("height", function(d,i){ return ylength-y(d)})
  .append("svg:title")
  .text(function(d){return 522 +" Men in Earth, Atomospheric, and Ocean Sciences"});
d3.select("svg")
  .append("g")
  .attr("transform", "translate(50, 0)")
  .selectAll().data(WomenEAO).enter().append('rect')
  .classed("WomenEAO", true)
  .style("stroke", "pink")
  .style("fill", "pink")
  .attr("x", w)
  .attr("y",function(d,i){ return y(cum_WomenEAO[i]) })
  .attr("width",w)
  .attr("height", function(d,i){ return ylength-y(d)})
  .append("svg:title")
  .text(function(d){return 411 +" Women in Earth, Atomospheric, and Ocean Sciences"});
d3.select("svg")
  .append("g")
  .attr("transform", "translate(50, 0)")
  .selectAll().data(MenAgComp).enter().append('rect')
  .classed("MenAgComp", true)
  .style("stroke", "lightblue")
  .style("fill", "lightblue")
  .attr("x", function(d,i){ return  2*w +marg + 2*w*i + i*marg })
  .attr("y",function(d,i){ return y(d) })
  .attr("width",w)
  .attr("height", function(d,i){ return ylength-y(d)})
  .append("svg:title")
  .text(function(d, i){return d +" Men in " + AgComp_text[i]});
d3.select("svg")
  .append("g")
  .attr("transform", "translate(50, 0)")
  .selectAll().data(WomenAgComp).enter().append('rect')
  .classed("WomenAgComp", true)
  .style("stroke", "pink")
  .style("fill", "pink")
  .attr("x", function(d,i){ return  2*w*i + 3*w  + i*marg+marg})
  .attr("y",function(d,i){ return y(d) })
  .attr("width",w)
  .attr("height", function(d,i){ return ylength-y(d)})
  .append("svg:title")
  .text(function(d, i){return d +" Women in " + AgComp_text[i]});
d3.select("svg")
  .append("g")
  .attr("transform", "translate(50, 0)")
  .selectAll().data(MenSocSci).enter().append('rect')
  .classed("MenSocSci", true)
  .style("stroke", "lightblue")
  .style("fill", "lightblue")
  .attr("x", function(d,i){ return  10*w +5*marg})
  .attr("y",function(d,i){ return y(cum_MenSocSci[i]) })
  .attr("width",w)
  .attr("height", function(d,i){ return ylength-y(d)})
  .append("svg:title")
  .text(function(d){return 2575 +" Men in Social Sciences"});
d3.select("svg")
  .append("g")
  .attr("transform", "translate(50, 0)")
  .selectAll().data(WomenSocSci).enter().append('rect')
  .classed("WomenSocSci", true)
  .style("stroke", "pink")
  .style("fill", "pink")
  .attr("x", function(d,i){ return 11*w +5*marg})
  .attr("y",function(d,i){ return y(cum_WomenSocSci[i]) })
  .attr("width",w)
  .attr("height", function(d,i){ return ylength-y(d)})
  .append("svg:title")
  .text(function(d){return 2641 +" Women in Social Sciences"});
d3.select("svg")
  .append("g")
  .attr("transform", "translate(50, 0)")
  .selectAll().data(MenPhysSci).enter().append('rect')
  .classed("MenPhysSci", true)
  .style("stroke", "lightblue")
  .style("fill", "lightblue")
  .attr("x", function(d,i){ return  12*w +6*marg})
  .attr("y",function(d,i){ return y(cum_MenPhysSci[i]) })
  .attr("width",w)
  .attr("height", function(d,i){ return ylength-y(d)})
  .append("svg:title")
  .text(function(d){return 3513 +" Men in Physical Sciences"});
d3.select("svg")
  .append("g")
  .attr("transform", "translate(50, 0)")
  .selectAll().data(WomenPhysSci).enter().append('rect')
  .classed("WomenPhysSci", true)
  .style("stroke", "pink")
  .style("fill", "pink")
  .attr("x", function(d,i){ return  13*w +6*marg})
  .attr("y",function(d,i){ return y(cum_WomenPhysSci[i]) })
  .attr("width",w)
  .attr("height", function(d,i){ return ylength-y(d)})
  .append("svg:title")
  .text(function(d){return 1691 +" Women in Physical Sciences"});
d3.select("svg")
  .append("g")
  .attr("transform", "translate(50, 0)")
  .selectAll().data(MenBio).enter().append('rect')
  .classed("MenBio", true)
  .style("stroke", "lightblue")
  .style("fill", "lightblue")
  .attr("x", function(d,i){ return  14*w +7*marg})
  .attr("y",function(d,i){ return y(d) })
  .attr("width",w)
  .attr("height", function(d,i){ return ylength-y(d)})
  .append("svg:title")
  .text(function(d){return 3788 +" Men in Biology"});
d3.select("svg")
  .append("g")
  .attr("transform", "translate(50, 0)")
  .selectAll().data(WomenBio).enter().append('rect')
  .classed("WomenBio", true)
  .style("stroke", "pink")
  .style("fill", "pink")
  .attr("x", function(d,i){ return  15*w +7*marg})
  .attr("y",function(d,i){ return y(d) })
  .attr("width",w)
  .attr("height", function(d,i){ return ylength-y(d)})
  .append("svg:title")
  .text(function(d){return 4308 +" Women in Biology"});
d3.select("svg")
  .append("g")
  .attr("transform", "translate(50, 0)")
  .selectAll().data(MenEngineering).enter().append('rect')
  .classed("MenEngineering", true)
  .style("stroke", "lightblue")
  .style("fill", "lightblue")
  .attr("x", function(d,i){ return  16*w +8*marg})
  .attr("y",function(d,i){ return y(cum_MenEngineering[i]) })
  .attr("width",w)
  .attr("height", function(d,i){ return ylength-y(d)})
  .append("svg:title")
  .text(function(d){return 8265 +" Men in Engineering"});
d3.select("svg")
  .append("g")
  .attr("transform", "translate(50, 0)")
  .selectAll().data(WomenEngineering).enter().append('rect')
  .classed("WomenEngineering", true)
  .style("stroke", "pink")
  .style("fill", "pink")
  .attr("x", function(d,i){ return  17*w +8*marg})
  .attr("y",function(d,i){ return y(cum_WomenEngineering[i]) })
  .attr("width",w)
  .attr("height", function(d,i){ return ylength-y(d)})
  .append("svg:title")
  .text(function(d){return 2686 +" Women in Engineering"});
d3.select("svg").append("g")
  .attr("transform", "translate(50, 0)")
  .call(d3.axisLeft(y));
d3.select("svg")
  .selectAll("rect")
  .filter(".MenEAO", true).data(MenEAO)
  .transition()
  .duration(800)
  .style("stroke", "black")
  .attr("x",function(d,i){ return 2*w*i+ marg*i })
  .attr("y",function(d,i){ return y(d); });
d3.select("svg")
  .selectAll("rect")
  .filter(".WomenEAO", true).data(WomenEAO)
  .transition()
  .duration(800)
  .style("stroke", "black")
  .attr("x",function(d,i){ return 2*w*i + marg*i + w})
  .attr("y",function(d,i){ return y(d); });
d3.select("svg")
  .selectAll("rect")
  .filter(".MenEAO", true).data(MenEAO)
  .select("title").text(function(d,i) { return d+" Men in "+ EAO_text[i]});
d3.select("svg")
  .selectAll("rect")
  .filter(".WomenEAO", true).data(WomenEAO)
  .select("title").text(function(d,i) { return d+" Women in "+ EAO_text[i]; });
d3.select("svg")
  .selectAll("rect")
  .filter(".MenAgComp", true).data(MenAgComp)
  .transition()
  .duration(800)
  .attr("x", function(d,i){ return 6*w + 3*marg + 2*w*i +marg*i});
d3.select("svg")
  .selectAll("rect")
  .filter(".WomenAgComp", true).data(WomenAgComp)
  .transition()
  .duration(800)
  .attr("x", function(d,i){ return 7*w + 3*marg + 2*w*i +marg*i});
d3.select("svg")
  .selectAll("rect")
  .filter(".MenSocSci", true).data(MenSocSci)
  .transition()
  .duration(800)
  .attr("x", function(d,i){ return 14*w +7*marg});
d3.select("svg")
  .selectAll("rect")
  .filter(".WomenSocSci", true).data(WomenSocSci)
  .transition()
  .duration(800)
  .attr("x", function(d,i){return   15*w +7*marg});
d3.select("svg")
  .selectAll("rect")
  .filter(".MenPhysSci", true).data(MenPhysSci)
  .transition()
  .duration(800)
  .attr("x", function(d,i){ return  16*w +8*marg});
d3.select("svg")
  .selectAll("rect")
  .filter(".WomenPhysSci", true).data(WomenPhysSci)
  .transition()
  .duration(800)
  .attr("x", function(d,i){return  17*w +8*marg});
d3.select("svg")
  .selectAll("rect")
  .filter(".MenBio", true)
  .transition()
  .duration(800)
  .attr("x",  18*w +9*marg);
d3.select("svg")
  .selectAll("rect")
  .filter(".WomenBio", true)
  .transition()
  .duration(800)
  .attr("x",  19*w +9*marg);
d3.select("svg")
  .selectAll("rect")
  .filter(".MenEngineering", true).data(MenEngineering)
  .transition()
  .duration(800)
  .attr("x", function(d,i){ return  20*w + 10*marg});
d3.select("svg")
  .selectAll("rect")
  .filter(".WomenEngineering", true).data(WomenEngineering)
  .transition()
  .duration(800)
  .attr("x", function(d,i){return  21*w + 10*marg});
d3.select("svg")
  .selectAll("rect")
  .filter(".MenSocSci", true).data(MenSocSci)
  .transition()
  .duration(800)
  .style("stroke", "black")
  .attr("x",function(d,i){ return 2*w*i+ marg*i + 2*(2*w*disagEAO + marg*disagEAO)  + 10*w +5*marg})
  .attr("y",function(d,i){ return y(d); });
d3.select("svg")
  .selectAll("rect")
  .filter(".WomenSocSci", true).data(WomenSocSci)
  .transition()
  .duration(800)
  .style("stroke", "black")
  .attr("x",function(d,i){ return 2*w*i + marg*i + 2*(2*w*disagEAO + marg*disagEAO)  + 11*w +5*marg})
  .attr("y",function(d,i){ return y(d); });
d3.select("svg")
  .selectAll("rect")
  .filter(".MenSocSci", true).data(MenSocSci)
  .select("title").text(function(d,i) { return d+" Men in "+ SocSci_text[i]});
d3.select("svg")
  .selectAll("rect")
  .filter(".WomenSocSci", true).data(WomenSocSci)
  .select("title").text(function(d,i) { return d+" Women in "+ SocSci_text[i]; });
d3.select("svg")
  .selectAll("rect")
  .filter(".MenPhysSci", true).data(MenPhysSci)
  .transition()
  .duration(800)
  .attr("x", function(d,i){ return 2*(2*w*disagEAO + marg*disagEAO) + 14*w +7*marg});
d3.select("svg")
  .selectAll("rect")
  .filter(".WomenPhysSci", true).data(WomenPhysSci)
  .transition()
  .duration(800)
  .attr("x", function(d,i){return 2*(2*w*disagEAO + marg*disagEAO) +  15*w +7*marg});
d3.select("svg")
  .selectAll("rect")
  .filter(".MenBio", true)
  .transition()
  .duration(800)
  .attr("x", 2*(2*w*disagEAO + marg*disagEAO) +  16*w +8*marg);
d3.select("svg")
  .selectAll("rect")
  .filter(".WomenBio", true)
  .transition()
  .duration(800)
  .attr("x", 2*(2*w*disagEAO + marg*disagEAO)  + 17*w +8*marg);
d3.select("svg")
  .selectAll("rect")
  .filter(".MenEngineering", true).data(MenEngineering)
  .transition()
  .duration(800)
  .attr("x", function(d,i){ return 2*(2*w*disagEAO + marg*disagEAO) + 18*w +9*marg});
d3.select("svg")
  .selectAll("rect")
  .filter(".WomenEngineering", true).data(WomenEngineering)
  .transition()
  .duration(800)
  .attr("x", function(d,i){return 2*(2*w*disagEAO + marg*disagEAO) + 19*w +9*marg});
d3.select("svg")
  .selectAll("rect")
  .filter(".MenPhysSci", true).data(MenPhysSci)
  .transition()
  .duration(800)
  .style("stroke", "black")
  .attr("x",function(d,i){ return 2*w*i+ marg*i + 2*(2*w*disagEAO + marg*disagEAO) +2*w*disagSocSci + marg*disagSocSci +  12*w +6*marg})
  .attr("y",function(d,i){ return y(d); });
d3.select("svg")
  .selectAll("rect")
  .filter(".WomenPhysSci", true).data(WomenPhysSci)
  .transition()
  .duration(800)
  .style("stroke", "black")
  .attr("x",function(d,i){ return 2*w*i + marg*i + 2*(2*w*disagEAO + marg*disagEAO) +2*w*disagSocSci + marg*disagSocSci + 13*w +6*marg})
  .attr("y",function(d,i){ return y(d); });
d3.select("svg")
  .selectAll("rect")
  .filter(".MenPhysSci", true).data(MenPhysSci)
  .select("title").text(function(d,i) { return d+" Men in "+ PhysSci_text[i]});
d3.select("svg")
  .selectAll("rect")
  .filter(".WomenPhysSci", true).data(WomenPhysSci)
  .select("title").text(function(d,i) { return d+" Women in "+ PhysSci_text[i]; });
d3.select("svg")
  .selectAll("rect")
  .filter(".MenBio", true)
  .transition()
  .duration(800)
  .attr("x", 2*(2*w*disagEAO + marg*disagEAO) +2*w*disagSocSci + marg*disagSocSci  + 18*w +9*marg);
d3.select("svg")
  .selectAll("rect")
  .filter(".WomenBio", true)
  .transition()
  .duration(800)
  .attr("x", 2*(2*w*disagEAO + marg*disagEAO) +2*w*disagSocSci + marg*disagSocSci  + 19*w +9*marg);
d3.select("svg")
  .selectAll("rect")
  .filter(".MenEngineering", true).data(MenEngineering)
  .transition()
  .duration(800)
  .attr("x", function(d,i){ return 2*(2*w*disagEAO + marg*disagEAO) +2*w*disagSocSci + marg*disagSocSci + 20*w +10*marg});
d3.select("svg")
  .selectAll("rect")
  .filter(".WomenEngineering", true).data(WomenEngineering)
  .transition()
  .duration(800)
  .attr("x", function(d,i){return 2*(2*w*disagEAO + marg*disagEAO) +2*w*disagSocSci + marg*disagSocSci   +  21*w +10*marg});
d3.select("svg")
  .selectAll("rect")
  .filter(".MenEngineering", true).data(MenEngineering)
  .transition()
  .duration(800)
  .style("stroke", "black")
  .attr("x",function(d,i){ return 2*w*i+ marg*i + 2*(2*w*disagEAO + marg*disagEAO) +2*w*disagSocSci + marg*disagSocSci + 2*(2*w*disagPhysSci+marg*disagPhysSci) + 16*w +8*marg})
  .attr("y",function(d,i){ return y(d); });
d3.select("svg")
  .selectAll("rect")
  .filter(".WomenEngineering", true).data(WomenEngineering)
  .transition()
  .duration(800)
  .style("stroke", "black")
  .attr("x",function(d,i){ return 2*w*i + marg*i + 2*(2*w*disagEAO + marg*disagEAO) +2*w*disagSocSci + marg*disagSocSci + 2*(2*w*disagPhysSci+marg*disagPhysSci) + 17*w +8*marg})
  .attr("y",function(d,i){ return y(d); });
d3.select("svg")
  .selectAll("rect")
  .filter(".MenEngineering", true).data(MenEngineering)
  .select("title").text(function(d,i) { return d+" Men in "+ Engineering_text[i]});
d3.select("svg")
  .selectAll("rect")
  .filter(".WomenEngineering", true).data(WomenEngineering)
  .select("title").text(function(d,i) { return d+" Women in "+ Engineering_text[i]; });
d3.select("svg")
  .append("g")
  .call(makeAnnotations);
}
</script>
</body>
</html>
